<!DOCTYPE html>
<html>
<head>
  <title>Webhook Example - Page 2</title>
</head>
<body>
  <a href="page1.html">Back to Page 1</a>
  <h1>Webhook Example - Page 2</h1>
  <p>Parameter 1: <span id="param1"></span></p>
  <p>Parameter 2: <span id="param2"></span></p>
  
  <div class="grid-container">
    <iframe 
        id="iframe1"
        title="Backlog Report (BIBA)" 
        frameborder="0" 
        allowfullscreen="true">
    </iframe>
    <iframe
        id="iframe2"
        title="BiBa Evolution 2024 DSR" 
        frameborder="0" 
        allowfullscreen="true">
    </iframe>  
  </div>

  <script>
    // Function to get URL parameters
    function getParameterByName(name) {
      let url = new URL(window.location.href);
      return url.searchParams.get(name);
    }

    // Get parameters from URL and display
    document.getElementById('param1').textContent = getParameterByName('param1');
    document.getElementById('param2').textContent = getParameterByName('param2');

    // Set initial iframe src values
    document.getElementById('iframe1').src = getParameterByName('param1');
    document.getElementById('iframe2').src = getParameterByName('param2');

    // Function to update iframe src attributes
    function updateIframes() {
      let urls = document.getElementById('urls').value.split(',');
      if (urls.length >= 2) {
        document.getElementById('iframe1').src = urls[0].trim();
        document.getElementById('iframe2').src = urls[1].trim();
      } else {
        alert('Please enter at least two URLs separated by commas.');
      }
    }

    // Example webhook URL (change to your actual webhook URL)
    let webhookUrl = 'https://example.com/webhook';

    // Send parameters to webhook
    fetch(webhookUrl, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        param1: getParameterByName('param1'),
        param2: getParameterByName('param2')
      })
    }).then(response => response.json())
      .then(data => console.log(data))
      .catch(error => console.error('Error:', error));
  </script>
</body>
</html>
